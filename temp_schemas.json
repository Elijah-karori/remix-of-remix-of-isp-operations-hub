{
  "ScraperRun": {
    "properties": {
      "supplier_id": {
        "type": "integer",
        "title": "Supplier Id"
      },
      "id": {
        "type": "integer",
        "title": "Id"
      },
      "status": {
        "type": "string",
        "title": "Status"
      },
      "products_scraped": {
        "type": "integer",
        "title": "Products Scraped"
      },
      "products_updated": {
        "type": "integer",
        "title": "Products Updated"
      },
      "products_added": {
        "type": "integer",
        "title": "Products Added"
      },
      "error_message": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "type": "null"
          }
        ],
        "title": "Error Message"
      },
      "execution_time": {
        "anyOf": [
          {
            "type": "number"
          },
          {
            "type": "null"
          }
        ],
        "title": "Execution Time"
      },
      "started_at": {
        "type": "string",
        "format": "date-time",
        "title": "Started At"
      },
      "completed_at": {
        "anyOf": [
          {
            "type": "string",
            "format": "date-time"
          },
          {
            "type": "null"
          }
        ],
        "title": "Completed At"
      }
    },
    "type": "object",
    "required": [
      "supplier_id",
      "id",
      "status",
      "products_scraped",
      "products_updated",
      "products_added",
      "error_message",
      "execution_time",
      "started_at",
      "completed_at"
    ],
    "title": "ScraperRun"
  },
  "PriceHistory": {
    "properties": {
      "id": {
        "type": "integer",
        "title": "Id"
      },
      "product_id": {
        "type": "integer",
        "title": "Product Id"
      },
      "old_price": {
        "type": "number",
        "title": "Old Price"
      },
      "new_price": {
        "type": "number",
        "title": "New Price"
      },
      "price_change": {
        "type": "number",
        "title": "Price Change"
      },
      "price_change_percent": {
        "type": "number",
        "title": "Price Change Percent"
      },
      "recorded_at": {
        "type": "string",
        "format": "date-time",
        "title": "Recorded At"
      }
    },
    "type": "object",
    "required": [
      "id",
      "product_id",
      "old_price",
      "new_price",
      "price_change",
      "price_change_percent",
      "recorded_at"
    ],
    "title": "PriceHistory"
  },
  "RoleHierarchyOut": {
    "properties": {
      "role": {
        "$ref": "#/components/schemas/RoleV2Out"
      },
      "children": {
        "items": {
          "$ref": "#/components/schemas/RoleHierarchyOut"
        },
        "type": "array",
        "title": "Children",
        "default": []
      },
      "parent_role_id": {
        "anyOf": [
          {
            "type": "integer"
          },
          {
            "type": "null"
          }
        ],
        "title": "Parent Role Id"
      },
      "depth": {
        "type": "integer",
        "title": "Depth",
        "default": 1
      }
    },
    "type": "object",
    "required": [
      "role"
    ],
    "title": "RoleHierarchyOut",
    "description": "Recursive model for role inheritance trees"
  },
  "PermissionCheckResponse": {
    "properties": {
      "permission": {
        "type": "string",
        "title": "Permission"
      },
      "granted": {
        "type": "boolean",
        "title": "Granted"
      }
    },
    "type": "object",
    "required": [
      "permission",
      "granted"
    ],
    "title": "PermissionCheckResponse"
  },
  "MyPermissionsResponse": {
    "properties": {
      "permissions": {
        "items": {
          "$ref": "#/components/schemas/PermissionDetail"
        },
        "type": "array",
        "title": "Permissions"
      },
      "count": {
        "type": "integer",
        "title": "Count"
      }
    },
    "type": "object",
    "required": [
      "permissions",
      "count"
    ],
    "title": "MyPermissionsResponse"
  },
  "MpesaTransactionOut": {
    "properties": {
      "id": {
        "type": "integer",
        "title": "Id"
      },
      "transaction_type": {
        "type": "string",
        "title": "Transaction Type"
      },
      "mpesa_receipt_number": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "type": "null"
          }
        ],
        "title": "Mpesa Receipt Number"
      },
      "transaction_date": {
        "anyOf": [
          {
            "type": "string",
            "format": "date-time"
          },
          {
            "type": "null"
          }
        ],
        "title": "Transaction Date"
      },
      "phone_number": {
        "type": "string",
        "title": "Phone Number"
      },
      "amount": {
        "type": "number",
        "title": "Amount"
      },
      "status": {
        "type": "string",
        "title": "Status"
      },
      "result_desc": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "type": "null"
          }
        ],
        "title": "Result Desc"
      },
      "result_code": {
        "anyOf": [
          {
            "type": "integer"
          },
          {
            "type": "null"
          }
        ],
        "title": "Result Code"
      },
      "reference": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "type": "null"
          }
        ],
        "title": "Reference"
      },
      "description": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "type": "null"
          }
        ],
        "title": "Description"
      },
      "created_at": {
        "type": "string",
        "format": "date-time",
        "title": "Created At"
      },
      "updated_at": {
        "anyOf": [
          {
            "type": "string",
            "format": "date-time"
          },
          {
            "type": "null"
          }
        ],
        "title": "Updated At"
      }
    },
    "type": "object",
    "required": [
      "id",
      "transaction_type",
      "mpesa_receipt_number",
      "transaction_date",
      "phone_number",
      "amount",
      "status",
      "result_desc",
      "result_code",
      "reference",
      "description",
      "created_at",
      "updated_at"
    ],
    "title": "MpesaTransactionOut"
  },
  "BudgetUsage": {
    "properties": {
      "sub_budget_id": {
        "type": "integer",
        "title": "Sub Budget Id"
      },
      "description": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "type": "null"
          }
        ],
        "title": "Description"
      },
      "amount": {
        "type": "string",
        "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
        "title": "Amount"
      },
      "type": {
        "$ref": "#/components/schemas/BudgetUsageType"
      },
      "transaction_date": {
        "type": "string",
        "format": "date",
        "title": "Transaction Date"
      },
      "status": {
        "anyOf": [
          {
            "$ref": "#/components/schemas/BudgetUsageStatus"
          },
          {
            "type": "null"
          }
        ],
        "default": "approved"
      },
      "id": {
        "type": "integer",
        "title": "Id"
      },
      "created_at": {
        "type": "string",
        "format": "date-time",
        "title": "Created At"
      },
      "updated_at": {
        "anyOf": [
          {
            "type": "string",
            "format": "date-time"
          },
          {
            "type": "null"
          }
        ],
        "title": "Updated At"
      }
    },
    "type": "object",
    "required": [
      "sub_budget_id",
      "amount",
      "type",
      "transaction_date",
      "id",
      "created_at",
      "updated_at"
    ],
    "title": "BudgetUsage"
  },
  "MasterBudget": {
    "properties": {
      "name": {
        "type": "string",
        "title": "Name"
      },
      "start_date": {
        "type": "string",
        "format": "date",
        "title": "Start Date"
      },
      "end_date": {
        "type": "string",
        "format": "date",
        "title": "End Date"
      },
      "total_amount": {
        "type": "string",
        "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
        "title": "Total Amount"
      },
      "id": {
        "type": "integer",
        "title": "Id"
      },
      "created_at": {
        "type": "string",
        "format": "date-time",
        "title": "Created At"
      },
      "updated_at": {
        "anyOf": [
          {
            "type": "string",
            "format": "date-time"
          },
          {
            "type": "null"
          }
        ],
        "title": "Updated At"
      },
      "sub_budgets": {
        "items": {
          "$ref": "#/components/schemas/SubBudget"
        },
        "type": "array",
        "title": "Sub Budgets",
        "default": []
      }
    },
    "type": "object",
    "required": [
      "name",
      "start_date",
      "end_date",
      "total_amount",
      "id",
      "created_at",
      "updated_at"
    ],
    "title": "MasterBudget"
  },
  "SubBudget": {
    "properties": {
      "name": {
        "$ref": "#/components/schemas/SubBudgetType"
      },
      "amount": {
        "type": "string",
        "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
        "title": "Amount"
      },
      "financial_account_id": {
        "anyOf": [
          {
            "type": "integer"
          },
          {
            "type": "null"
          }
        ],
        "title": "Financial Account Id"
      },
      "id": {
        "type": "integer",
        "title": "Id"
      },
      "master_budget_id": {
        "type": "integer",
        "title": "Master Budget Id"
      },
      "usages": {
        "items": {
          "$ref": "#/components/schemas/BudgetUsage"
        },
        "type": "array",
        "title": "Usages",
        "default": []
      }
    },
    "type": "object",
    "required": [
      "name",
      "amount",
      "id",
      "master_budget_id"
    ],
    "title": "SubBudget"
  },
  "FinancialSnapshotResponse": {
    "properties": {
      "generated_at": {
        "type": "string",
        "format": "date-time",
        "title": "Generated At"
      },
      "active_projects": {
        "additionalProperties": true,
        "type": "object",
        "title": "Active Projects"
      },
      "monthly_performance": {
        "additionalProperties": true,
        "type": "object",
        "title": "Monthly Performance"
      },
      "receivables": {
        "additionalProperties": true,
        "type": "object",
        "title": "Receivables"
      },
      "infrastructure_performance": {
        "additionalProperties": true,
        "type": "object",
        "title": "Infrastructure Performance"
      },
      "top_infrastructure": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "type": "null"
          }
        ],
        "title": "Top Infrastructure"
      }
    },
    "type": "object",
    "required": [
      "generated_at",
      "active_projects",
      "monthly_performance",
      "receivables",
      "infrastructure_performance",
      "top_infrastructure"
    ],
    "title": "FinancialSnapshotResponse"
  },
  "IndependentRoleOut": {
    "properties": {
      "name": {
        "type": "string",
        "title": "Name"
      },
      "description": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "type": "null"
          }
        ],
        "title": "Description"
      },
      "level": {
        "type": "integer",
        "title": "Level",
        "default": 0
      },
      "scope_level": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "type": "null"
          }
        ],
        "title": "Scope Level",
        "default": "global"
      },
      "status": {
        "$ref": "#/components/schemas/RoleStatus",
        "default": "active"
      },
      "is_system_role": {
        "type": "boolean",
        "title": "Is System Role",
        "default": false
      },
      "id": {
        "type": "integer",
        "title": "Id"
      },
      "created_at": {
        "type": "string",
        "format": "date-time",
        "title": "Created At"
      },
      "permissions": {
        "items": {
          "$ref": "#/components/schemas/PermissionV2Out"
        },
        "type": "array",
        "title": "Permissions",
        "default": []
      },
      "is_independent": {
        "type": "boolean",
        "title": "Is Independent",
        "default": true
      },
      "floating_scope": {
        "type": "string",
        "title": "Floating Scope",
        "default": "global"
      },
      "implementation_logic": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "type": "null"
          }
        ],
        "title": "Implementation Logic"
      }
    },
    "type": "object",
    "required": [
      "name",
      "id",
      "created_at"
    ],
    "title": "IndependentRoleOut",
    "description": "Schema for roles that operate independently of strict hierarchy"
  },
  "FuzzyMatchResult": {
    "properties": {
      "target_role_name": {
        "type": "string",
        "title": "Target Role Name"
      },
      "suggested_parent_id": {
        "anyOf": [
          {
            "type": "integer"
          },
          {
            "type": "null"
          }
        ],
        "title": "Suggested Parent Id"
      },
      "suggested_parent_name": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "type": "null"
          }
        ],
        "title": "Suggested Parent Name"
      },
      "suggested_level": {
        "$ref": "#/components/schemas/HierarchyLevel"
      },
      "confidence": {
        "type": "number",
        "title": "Confidence"
      },
      "reason": {
        "type": "string",
        "title": "Reason"
      }
    },
    "type": "object",
    "required": [
      "target_role_name",
      "suggested_level",
      "confidence",
      "reason"
    ],
    "title": "FuzzyMatchResult",
    "description": "Schema for algorithmic hierarchical suggestions"
  },
  "AccessPolicyOut": {
    "properties": {
      "name": {
        "type": "string",
        "title": "Name"
      },
      "description": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "type": "null"
          }
        ],
        "title": "Description"
      },
      "resource": {
        "type": "string",
        "title": "Resource"
      },
      "action": {
        "type": "string",
        "title": "Action"
      },
      "required_roles": {
        "anyOf": [
          {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          {
            "type": "null"
          }
        ],
        "title": "Required Roles"
      },
      "required_permissions": {
        "anyOf": [
          {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          {
            "type": "null"
          }
        ],
        "title": "Required Permissions"
      },
      "conditions": {
        "anyOf": [
          {
            "additionalProperties": true,
            "type": "object"
          },
          {
            "type": "null"
          }
        ],
        "title": "Conditions"
      },
      "target_hierarchy_level": {
        "anyOf": [
          {
            "$ref": "#/components/schemas/HierarchyLevel"
          },
          {
            "type": "null"
          }
        ]
      },
      "start_time": {
        "anyOf": [
          {
            "type": "string",
            "format": "date-time"
          },
          {
            "type": "null"
          }
        ],
        "title": "Start Time"
      },
      "end_time": {
        "anyOf": [
          {
            "type": "string",
            "format": "date-time"
          },
          {
            "type": "null"
          }
        ],
        "title": "End Time"
      },
      "active_days": {
        "anyOf": [
          {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          {
            "type": "null"
          }
        ],
        "title": "Active Days"
      },
      "priority": {
        "type": "integer",
        "title": "Priority",
        "default": 0
      },
      "is_active": {
        "type": "boolean",
        "title": "Is Active",
        "default": true
      },
      "id": {
        "type": "integer",
        "title": "Id"
      },
      "created_by": {
        "anyOf": [
          {
            "type": "integer"
          },
          {
            "type": "null"
          }
        ],
        "title": "Created By"
      },
      "created_at": {
        "type": "string",
        "format": "date-time",
        "title": "Created At"
      }
    },
    "type": "object",
    "required": [
      "name",
      "resource",
      "action",
      "id",
      "created_at"
    ],
    "title": "AccessPolicyOut"
  },
  "FeaturePolicyRequest": {
    "properties": {
      "feature_name": {
        "type": "string",
        "title": "Feature Name"
      },
      "resources": {
        "items": {
          "type": "string"
        },
        "type": "array",
        "title": "Resources"
      },
      "actions": {
        "items": {
          "type": "string"
        },
        "type": "array",
        "title": "Actions"
      },
      "conditions": {
        "anyOf": [
          {
            "additionalProperties": true,
            "type": "object"
          },
          {
            "type": "null"
          }
        ],
        "title": "Conditions"
      }
    },
    "type": "object",
    "required": [
      "feature_name",
      "resources",
      "actions"
    ],
    "title": "FeaturePolicyRequest"
  },
  "UserStatusUpdateRequest": {
    "properties": {
      "status": {
        "$ref": "#/components/schemas/UserStatus"
      },
      "reason": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "type": "null"
          }
        ],
        "title": "Reason"
      }
    },
    "type": "object",
    "required": [
      "status"
    ],
    "title": "UserStatusUpdateRequest"
  }
}